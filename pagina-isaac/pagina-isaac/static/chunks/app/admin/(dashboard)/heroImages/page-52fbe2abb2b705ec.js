(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{6330:function(e,t,a){Promise.resolve().then(a.bind(a,4284))},4284:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var r=a(7437),n=a(2265),s=a(8149),i=a(1584),o=a(8324),l=a(1715),c=a(1336),d=a(5171),u="Switch",[f,m]=(0,o.b)(u),[g,h]=f(u),p=n.forwardRef((e,t)=>{let{__scopeSwitch:a,name:o,checked:c,defaultChecked:u,required:f,disabled:m,value:h="on",onCheckedChange:p,form:b,...x}=e,[y,j]=n.useState(null),N=(0,i.e)(t,e=>j(e)),k=n.useRef(!1),S=!y||b||!!y.closest("form"),[E=!1,C]=(0,l.T)({prop:c,defaultProp:u,onChange:p});return(0,r.jsxs)(g,{scope:a,checked:E,disabled:m,children:[(0,r.jsx)(d.WV.button,{type:"button",role:"switch","aria-checked":E,"aria-required":f,"data-state":w(E),"data-disabled":m?"":void 0,disabled:m,value:h,...x,ref:N,onClick:(0,s.M)(e.onClick,e=>{C(e=>!e),S&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),S&&(0,r.jsx)(v,{control:y,bubbles:!k.current,name:o,value:h,checked:E,required:f,disabled:m,form:b,style:{transform:"translateX(-100%)"}})]})});p.displayName=u;var b="SwitchThumb",x=n.forwardRef((e,t)=>{let{__scopeSwitch:a,...n}=e,s=h(b,a);return(0,r.jsx)(d.WV.span,{"data-state":w(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});x.displayName=b;var v=e=>{let{control:t,checked:a,bubbles:s=!0,...i}=e,o=n.useRef(null),l=function(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(a),d=function(e){let[t,a]=n.useState(void 0);return(0,c.b)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,n;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,n=t.blockSize}else r=e.offsetWidth,n=e.offsetHeight;a({width:r,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),t}(t);return n.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==a&&t){let r=new Event("click",{bubbles:s});t.call(e,a),e.dispatchEvent(r)}},[l,a,s]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...i,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return e?"checked":"unchecked"}var y=a(7440);let j=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(p,{className:(0,y.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...n,ref:t,children:(0,r.jsx)(x,{className:(0,y.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});j.displayName=p.displayName;var N=a(837);let k=n.forwardRef(function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"}))});var S=a(4379),E=a.n(S),C=e=>{let{onUploadSuccess:t}=e,[a,s]=(0,n.useState)(null),[i,o]=(0,n.useState)(!1),l=async e=>{e.preventDefault();let r=new FormData;if(!a){E().fire({icon:"error",title:"Error",text:"Por favor, selecciona una imagen."});return}console.log(a),r.append("imagen",a),console.log("formData",r.get("imagen"));try{let e=await fetch("/api/hero-imagesapi/upload",{method:"POST",body:r});if(e.ok)E().fire({icon:"success",title:"Imagen Guardada",text:"La imagen se ha guardado."}),s(null),t();else{let t=await e.json();E().fire({icon:"error",title:"Error",text:t.error||"Error al subir la imagen."})}}catch(e){console.error("Error al subir la imagen:",e),E().fire({icon:"error",title:"Error",text:"Hubo un problema en la conexi\xf3n."})}o(!1)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(N.Vq,{open:i,onOpenChange:o,children:[(0,r.jsx)(N.hg,{asChild:!0,children:(0,r.jsxs)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-600 transition",children:[(0,r.jsx)(k,{className:"w-5 h-5"}),"Subir Imagen"]})}),(0,r.jsxs)(N.cZ,{className:"max-w-md w-full p-6 rounded-lg shadow-lg bg-white",children:[(0,r.jsx)(N.$N,{children:"Subir Nueva Imagen"}),(0,r.jsx)(N.Be,{children:"Complete la informaci\xf3n para subir una nueva imagen."}),(0,r.jsxs)("form",{className:"space-y-4 mt-4",onSubmit:l,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Imagen"}),(0,r.jsx)("input",{type:"file",id:"imagen",accept:"image/*",onChange:e=>s(e.target.files[0]),className:"border border-gray-300 rounded w-full p-2",required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"mt-4 w-full bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition",children:"Subir Imagen"})]})]})]})})};a(2651);var A=()=>{let[e,t]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{let e=await fetch("/api/hero-imagesapi/hero-images");t(await e.json())})()},[]);let a=async e=>{console.log(e);try{if((await fetch("/api/hero-imagesapi/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,isActive:!e.isActive})})).ok)t(t=>t.map(t=>t.id===e.id?{...t,isActive:!t.isActive}:t));else throw Error("No se pudo actualizar el estado de la imagen")}catch(e){console.error("Error al actualizar la imagen:",e)}},s=async()=>{let e=await fetch("/api/hero-imagesapi/hero-images");t(await e.json())};return(0,r.jsxs)("div",{className:"p-10min-h-screen",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8 text-white",children:"Administrar Im\xe1genes de Cabecera"}),(0,r.jsx)("div",{className:"py-3",children:(0,r.jsx)(C,{onUploadSuccess:s})}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 animate__animated animate__fadeIn",children:e.map(e=>(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md p-4 relative",children:[(0,r.jsx)("img",{src:e.imagePath,alt:e.title||"Imagen de Hero",className:"w-full h-40 object-cover rounded-md"}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("div",{className:"flex items-center mt-4",children:[(0,r.jsx)("span",{className:"mr-2 text-gray-700",children:e.isActive?"Activo":"Inactivo"}),(0,r.jsx)(j,{checked:e.isActive,onClick:()=>a(e),className:"".concat(e.isActive?"bg-green-500":"bg-gray-300"," relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none"),children:(0,r.jsx)("span",{className:"".concat(e.isActive?"translate-x-6":"translate-x-1"," inline-block w-4 h-4 transform bg-white rounded-full transition-transform")})})]})})]},e.id))})]})}},837:function(e,t,a){"use strict";a.d(t,{$N:function(){return m},Be:function(){return g},Vq:function(){return l},cZ:function(){return f},hg:function(){return c},t9:function(){return u}});var r=a(7437),n=a(2265),s=a(3394),i=a(4867),o=a(7440);let l=s.fC,c=s.xz,d=s.h_;s.x8;let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});u.displayName=s.aV.displayName;let f=n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(s.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[n,(0,r.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.Pxu,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=s.VY.displayName;let m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});m.displayName=s.Dx.displayName;let g=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...n})});g.displayName=s.dk.displayName},7440:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var r=a(30),n=a(6164);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[433,461,310,603,394,971,23,744],function(){return e(e.s=6330)}),_N_E=e.O()}]);