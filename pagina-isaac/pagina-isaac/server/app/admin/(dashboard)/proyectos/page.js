(()=>{var e={};e.id=585,e.ids=[585],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},6565:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(9111),t(6826),t(1506),t(5866);var s=t(3191),r=t(8716),o=t(7922),n=t.n(o),l=t(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(a,i);let d=["",{children:["admin",{children:["(dashboard)",{children:["proyectos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9111)),"/home/jgonzalez/pagina-isaac/app/admin/(dashboard)/proyectos/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6826)),"/home/jgonzalez/pagina-isaac/app/admin/(dashboard)/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/home/jgonzalez/pagina-isaac/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/jgonzalez/pagina-isaac/app/admin/(dashboard)/proyectos/page.tsx"],m="/admin/(dashboard)/proyectos/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/(dashboard)/proyectos/page",pathname:"/admin/proyectos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7613:(e,a,t)=>{Promise.resolve().then(t.bind(t,3713))},3824:(e,a,t)=>{Promise.resolve().then(t.bind(t,7617))},6514:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},2222:()=>{},3713:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>p});var s=t(326),r=t(434),o=t(7577),n=t(3465),l=t(5592),i=t(9050),d=t(7109),c=t(6226);let m=()=>{let e=async()=>{await (0,d.signOut)({redirect:!0})};return(0,s.jsxs)("div",{className:"w-10/6  bg-gray-800 text-white p-5",children:[s.jsx("div",{className:"flex items-center mb-5",children:(0,s.jsxs)(r.default,{href:"/admin",children:[s.jsx(c.default,{src:"/assets/logos/Logo-sin-fondo.png",alt:"Logo",width:40,height:40,className:"h-10 w-10 mr-2"}),s.jsx("h1",{className:"text-xl font-bold",children:"Dashboard"})]})}),s.jsx("nav",{children:(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{className:"mb-3",children:[(0,s.jsxs)(r.default,{href:"/admin/proyectos",className:"flex items-center p-2 hover:bg-gray-700 rounded",children:[s.jsx(n.Z,{className:"h-6 w-6 mr-2"}),"Proyectos"]}),s.jsx("hr",{})]}),(0,s.jsxs)("li",{className:"mb-3",children:[(0,s.jsxs)(r.default,{href:"/admin/contactos",className:"flex items-center p-2 hover:bg-gray-700 rounded",children:[s.jsx(l.Z,{className:"h-6 w-6 mr-2"}),"Contacto"]}),s.jsx("hr",{})]}),(0,s.jsxs)("li",{className:"mb-3",children:[(0,s.jsxs)(r.default,{href:"/admin/heroImages",className:"flex items-center p-2 hover:bg-gray-700 rounded",children:[s.jsx(i.Z,{className:"h-6 w-6 mr-2"}),"Imagenes Portada"]}),s.jsx("hr",{})]})]})}),s.jsx("div",{className:"mt-auto p-2",children:(0,s.jsxs)("button",{onClick:e,className:"flex items-center p-2 bg-red-700 hover:bg-red-600 rounded w-full",children:[s.jsx("span",{className:"mr-2",children:"Cerrar Sesi\xf3n"}),(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12H8m8 0a4 4 0 11-8 0 4 4 0 018 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 16l4 4m0-4l-4 4"})]})]})})]})};var u=t(5047);t(4047);let h=()=>(0,s.jsxs)("footer",{className:"bg-gray-900 text-white py-6",children:[(0,s.jsxs)("div",{className:"container mx-auto flex flex-col items-center",children:[s.jsx(c.default,{src:"/assets/logos/Logo-sin-fondo.png",alt:"Logo",width:100,height:100,className:"w-32 h-auto mb-4"}),(0,s.jsxs)("div",{className:"text-center mb-4",children:[s.jsx("h5",{className:"text-lg font-bold",children:"Project + BIM"}),s.jsx("p",{className:"text-sm",children:"Creando soluciones para tus proyectos en 3D"})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 mb-4",children:[s.jsx("a",{href:"#about",className:"hover:underline",children:"Sobre Nosotros"}),s.jsx("a",{href:"#services",className:"hover:underline",children:"Servicios"}),s.jsx("a",{href:"#contact",className:"hover:underline",children:"Contacto"})]}),(0,s.jsxs)("div",{className:"flex space-x-4 mb-4",children:[(0,s.jsxs)("a",{href:"#",className:"hover:text-blue-500",children:[s.jsx("i",{className:"fab fa-facebook"})," "]}),(0,s.jsxs)("a",{href:"#",className:"hover:text-blue-500",children:[s.jsx("i",{className:"fab fa-twitter"})," "]}),(0,s.jsxs)("a",{href:"#",className:"hover:text-blue-500",children:[s.jsx("i",{className:"fab fa-instagram"})," "]})]})]}),s.jsx("div",{className:"text-center mt-4",children:(0,s.jsxs)("p",{className:"text-sm",children:["\xa9 ",new Date().getFullYear()," Project + BIM. Todos los derechos reservados."]})})]}),x=({children:e})=>{let{data:a,status:t}=(0,d.useSession)(),r=(0,u.useRouter)();return(0,o.useEffect)(()=>{"loading"===t||a||r.push("/login")},[a,t,r]),(0,s.jsxs)("div",{className:"flex min-h-screen bg-gray-900-full",children:[s.jsx(m,{}),s.jsx("main",{className:"flex-1 p-6 bg-gray-700",children:e})]})};function p({children:e}){return(0,s.jsxs)(d.SessionProvider,{children:[s.jsx(x,{children:e}),s.jsx(h,{})]})}},7617:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var s=t(326),r=t(7577),o=t(7329),n=t(6812),l=t(2288),i=t(2919);let d=({project:e,isOpen:a,onClose:t})=>{let[n,d]=(0,r.useState)(e.nombre),[c,m]=(0,r.useState)(null),[u,h]=(0,r.useState)(e.isActive),x=new FormData;console.log(e),(0,r.useEffect)(()=>{a&&e&&(d(e.nombre),m(null),h(e.isActive))},[a,e]);let p=async()=>{x.append("nombre",n),x.append("imagen",c),x.append("activo",u),x.append("id",e.id);try{let e=await fetch("/api/proyectos/editProject",{method:"PUT",body:x});if(!e.ok)throw Error("Error al actualizar el proyecto");let a=await e.json();console.log("Proyecto actualizado:",a),d(""),m(null),h(!1),i.Z.fire({icon:"success",title:"Proyecto guardado",text:"El proyecto se ha guardado correctamente."}),t()}catch(e){console.error("Error en la llamada a la API:",e),i.Z.fire({icon:"error",title:"Error",text:e.message})}};return(0,s.jsxs)(l.Vq,{open:a,onOpenChange:t,children:[s.jsx(l.t9,{className:"fixed inset-0 bg-black opacity-30"}),(0,s.jsxs)(l.cZ,{className:"fixed top-1/2 left-1/2 w-1/3 bg-white rounded-lg shadow-lg transform -translate-x-1/2 -translate-y-1/2",children:[s.jsx(l.$N,{className:"text-lg font-bold",children:"Editar Proyecto"}),(0,s.jsxs)("div",{className:"mt-4",children:[s.jsx("label",{className:"block mb-2",children:"Nombre:"}),s.jsx("input",{type:"text",value:n,onChange:e=>d(e.target.value),className:"border rounded p-2 w-full"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"imagen",children:"Imagen"}),s.jsx("input",{type:"file",id:"imagen",accept:"image/*",onChange:e=>m(e.target.files[0]),className:"border border-gray-300 rounded w-full p-2",required:!0})]}),s.jsx("div",{className:"mt-4",children:(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:u,onChange:e=>h(e.target.checked),className:"mr-2"}),"Activo"]})}),(0,s.jsxs)("div",{className:"mt-4",children:[s.jsx(o.z,{onClick:p,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Guardar Cambios"}),s.jsx(o.z,{onClick:t,className:"ml-2 bg-red-600 px-4 py-2 rounded",children:"Cancelar"})]})]})]})},c=({isOpen:e,onClose:a})=>{let[t,n]=(0,r.useState)(""),[d,c]=(0,r.useState)(null),[m,u]=(0,r.useState)(!0),h=async e=>{e.preventDefault();let s=new FormData;s.append("nombre",t.toString()),s.append("imagen",d),s.append("activo",m.toString()),console.log(s.get("imagen"));try{if((await fetch("/api/dashboard/proyectos",{method:"POST",body:s})).ok)i.Z.fire({icon:"success",title:"Proyecto guardado",text:"El proyecto se ha guardado correctamente."}),n(""),c(null),u(!0),u(!1);else throw Error("Error al guardar el proyecto")}catch(e){i.Z.fire({icon:"error",title:"Error",text:e.message})}a()};return(0,s.jsxs)(l.Vq,{open:e,onOpenChange:a,children:[s.jsx(l.t9,{}),(0,s.jsxs)(l.cZ,{className:"p-6",children:[s.jsx(l.$N,{className:"text-lg font-bold",children:"Nuevo Proyecto"}),(0,s.jsxs)("form",{onSubmit:h,className:"mt-4",children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"nombre",children:"Nombre del Proyecto"}),s.jsx("input",{type:"text",id:"nombre",value:t,onChange:e=>n(e.target.value),className:"border border-gray-300 rounded w-full p-2",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"imagen",children:"Imagen"}),s.jsx("input",{type:"file",id:"imagen",accept:"image/*",onChange:e=>c(e.target.files[0]),className:"border border-gray-300 rounded w-full p-2",required:!0})]}),s.jsx("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:m,onChange:e=>u(e.target.checked),className:"mr-2"}),"Activo"]})}),s.jsx(o.z,{type:"submit",className:"bg-green-500 text-white",children:"Crear Proyecto"}),s.jsx(o.z,{type:"button",onClick:a,className:"bg-red-500 text-white ml-2",children:"Cancelar"})]})]})]})};var m=t(6226);t(3309);let u=()=>{let[e,a]=(0,r.useState)(null),[t,l]=(0,r.useState)(!1),[i,u]=(0,r.useState)(!1),[h,x]=(0,r.useState)([]),p=async()=>{try{let e=await fetch("/api/dashboard/proyectos");if(!e.ok)throw Error("Error al obtener los proyectos");let a=await e.json();x(a)}catch(e){console.error(e)}};(0,r.useEffect)(()=>{p()},[]);let g=e=>{a(e),l(!0)};return(0,s.jsxs)("div",{className:"container mx-auto mt-5",children:[s.jsx("h1",{className:"text-xl font-bold mb-5 text-white text-center",children:"Proyectos"}),s.jsx(o.z,{onClick:()=>u(!0),className:"bg-blue-500 text-white",children:"Agregar Proyecto"}),s.jsx(c,{isOpen:i,onClose:()=>{u(!1),p()}}),(0,s.jsxs)("div",{className:"mt-5",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 animate__animated animate__fadeIn",children:h.map(e=>(0,s.jsxs)("div",{className:"bg-white border border-gray-300 rounded-lg shadow-md overflow-hidden transition-transform transform hover:scale-105 relative",children:[s.jsx(m.default,{src:e.imagenUrl,alt:e.nombre,width:300,height:300,className:"w-full h-32 object-cover"}),(0,s.jsxs)("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-xl mb-2",children:e.nombre}),s.jsx("p",{className:`text-sm ${e.isActive?"text-green-500":"text-red-500"}`,children:e.isActive?"Activo":"Inactivo"}),(0,s.jsxs)("button",{onClick:()=>g(e),className:"mt-3 px-3 py-1 bg-yellow-500 text-white rounded inline-flex items-center",children:[s.jsx(n.JtS,{className:"mr-1"})," ","Editar"]})]})]},e.id))}),e&&s.jsx(d,{project:e,isOpen:t,onClose:()=>{l(!1),p()}})]})]})}},7329:(e,a,t)=>{"use strict";let s,r;t.d(a,{z:()=>u});var o=t(326),n=t(7577),l=t(4214);let i=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,d=function(){for(var e,a,t=0,s="";t<arguments.length;)(e=arguments[t++])&&(a=function e(a){var t,s,r="";if("string"==typeof a||"number"==typeof a)r+=a;else if("object"==typeof a){if(Array.isArray(a))for(t=0;t<a.length;t++)a[t]&&(s=e(a[t]))&&(r&&(r+=" "),r+=s);else for(t in a)a[t]&&(r&&(r+=" "),r+=t)}return r}(e))&&(s&&(s+=" "),s+=a);return s};var c=t(7863);let m=(s="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",r={variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}},e=>{var a;if((null==r?void 0:r.variants)==null)return d(s,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:t,defaultVariants:o}=r,n=Object.keys(t).map(a=>{let s=null==e?void 0:e[a],r=null==o?void 0:o[a];if(null===s)return null;let n=i(s)||i(r);return t[a][n]}),l=e&&Object.entries(e).reduce((e,a)=>{let[t,s]=a;return void 0===s||(e[t]=s),e},{});return d(s,n,null==r?void 0:null===(a=r.compoundVariants)||void 0===a?void 0:a.reduce((e,a)=>{let{class:t,className:s,...r}=a;return Object.entries(r).every(e=>{let[a,t]=e;return Array.isArray(t)?t.includes({...o,...l}[a]):({...o,...l})[a]===t})?[...e,t,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),u=n.forwardRef(({className:e,variant:a,size:t,asChild:s=!1,...r},n)=>{let i=s?l.g7:"button";return o.jsx(i,{className:(0,c.cn)(m({variant:a,size:t,className:e})),ref:n,...r})});u.displayName="Button"},2288:(e,a,t)=>{"use strict";t.d(a,{$N:()=>h,Be:()=>x,Vq:()=>i,cZ:()=>u,hg:()=>d,t9:()=>m});var s=t(326),r=t(7577),o=t(8854),n=t(6812),l=t(7863);let i=o.fC,d=o.xz,c=o.h_;o.x8;let m=r.forwardRef(({className:e,...a},t)=>s.jsx(o.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));m.displayName=o.aV.displayName;let u=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(c,{children:[s.jsx(m,{}),(0,s.jsxs)(o.VY,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,s.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(n.Pxu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=o.VY.displayName;let h=r.forwardRef(({className:e,...a},t)=>s.jsx(o.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));h.displayName=o.Dx.displayName;let x=r.forwardRef(({className:e,...a},t)=>s.jsx(o.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));x.displayName=o.dk.displayName},7863:(e,a,t)=>{"use strict";t.d(a,{cn:()=>o});var s=t(1135),r=t(1009);function o(...e){return(0,r.m6)((0,s.W)(e))}},6826:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/home/jgonzalez/pagina-isaac/app/admin/(dashboard)/layout.tsx#default`)},9111:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/home/jgonzalez/pagina-isaac/app/admin/(dashboard)/proyectos/page.tsx#default`)},1506:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d,metadata:()=>i});var s=t(9510),r=t(8215),o=t.n(r),n=t(623),l=t.n(n);t(7272);let i={title:"Project + BIM",description:"Creando soluciones para tus proyectos en 3D"};function d({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:`${o().variable} ${l().variable} antialiased`,children:e})})}},7481:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var s=t(6621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{},4047:()=>{}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[948,520,967,90,579,919,9,331],()=>t(6565));module.exports=s})();